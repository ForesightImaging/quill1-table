!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("quill")):"function"==typeof define&&define.amd?define(["quill"],t):"object"==typeof exports?exports.quill1Table=t(require("quill")):e.quill1Table=t(e.quill)}(self,(e=>(()=>{var t={924:(e,t,n)=>{"use strict";var r=n(210),o=n(559),i=o(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&i(e,".prototype.")>-1?o(n):n}},559:(e,t,n)=>{"use strict";var r=n(612),o=n(210),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),l=o("%Reflect.apply%",!0)||r.call(a,i),c=o("%Object.getOwnPropertyDescriptor%",!0),s=o("%Object.defineProperty%",!0),u=o("%Math.max%");if(s)try{s({},"a",{value:1})}catch(e){s=null}e.exports=function(e){var t=l(r,a,arguments);if(c&&s){var n=c(t,"length");n.configurable&&s(t,"length",{value:1+u(0,e.length-(arguments.length-1))})}return t};var p=function(){return l(r,i,arguments)};s?s(e.exports,"apply",{value:p}):e.exports.apply=p},549:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(537),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([e.id,'.ql-editor table {\n    width: 100%;\n    border-collapse: collapse;\n    table-layout: fixed;\n    overflow:hidden;\n    white-space: nowrap;\n}\n\n.ql-editor table td {\n    border: 1px solid black;\n    padding: 2px 5px;\n    height: 25px;\n    vertical-align: top;\n    white-space: normal;\n}\n\n.ql-editor table td.ql-cell-selected {\n    background-color: #cce0f8;\n}\n\n.quill-better-table-wrapper {\n  overflow-x: auto;\n}\n\n.ql-picker.ql-table {\n    width: auto !important;\n    margin-right: 0;\n}\n\n.ql-picker.ql-table .ql-picker-label svg {\n    display: none;\n}\n/* .ql-formats button.ql-table::after, */\n.ql-picker.ql-table .ql-picker-label::before {\n    display: block;\n    font-size: 14px;\n}\n\n.ql-picker.ql-table:nth-of-type(1) .ql-picker-label::before {\n    content: "\\f0ce";\n}\n.ql-picker.ql-table .ql-picker-label::before {\n    font-family: "Font Awesome 5 Free";\n    font-weight: 900;\n    padding-top: 2px;\n    line-height: 1em;\n}\n\n.ql-picker-item[data-value="insert"]::after {\n  content: "Insert table";\n}\n\n.ql-picker-item[data-value="append-col"]::after {\n    content: "Add col";\n}\n\n.ql-picker-item[data-value="remove-col"]::after {\n    content: "Remove col"\n}\n\n.ql-picker-item[data-value="append-row"]::after {\n    content: "Add row";\n}\n\n.ql-picker-item[data-value="remove-row"]::after {\n    content: "Remove row"\n}\n\n.ql-table:nth-of-type(1),\n.ql-contain {\n    width: 90px;\n    margin-right: 0;\n}\n\n.ql-picker.ql-table:nth-of-type(1) {\n    font-size: 11px;\n    font-weight: normal;\n}\n\n.ql-picker.ql-table .ql-picker-label {\n    padding: 2px 3px;\n    width: 23px;\n}\n\n.ql-picker.ql-table:nth-of-type(1) .ql-picker-options {\n    width: 180px;\n}\n\n.ql-picker.ql-table:nth-of-type(1) .ql-picker-item {\n    display: block;\n    float: left;\n    width: 30px;\n    height: 30px;\n    line-height: 30px;\n    text-align: center;\n    padding: 0px;\n    margin: 1px;\n}\n\n.ql-picker.ql-table:nth-of-type(2) {\n    display: flex;\n    width: 145px;\n}\n\n.ql-picker.ql-table:nth-of-type(2) .ql-picker-label::before {\n    content: "\\f850";\n}\n\n.ql-picker.ql-table:nth-of-type(2) {\n    color: #444;\n}\n\n.ql-picker.ql-table:nth-of-type(1) .ql-picker-item {\n    border: 1px solid #444;\n    color: #444;\n}\n\n.ql-table:nth-of-type(2) .ql-picker-label.ql-active {\n    color: #444!important;\n}\n\n.ql-toolbar .ql-picker-item.ql-selected:before, .ql-picker.ql-table:nth-of-type(2) .ql-picker-item {\n    color: #444;\n}\n\n.ql-picker-label.ql-active .ql-stroke {\n    stroke: #444!important;\n}\n\n.ql-picker-item[data-value="remove-table"] {\n    border: none!important;\n    width: 100%;\n}\n.ql-picker-item[data-value="remove-table"]:before {\n    content: "Remove table";\n    width: auto;\n    display: block;\n    font-size: 12px;\n}\n\n.ql-picker-item[data-value=newtable_1_1]:before {\n    content: "1x1";\n}\n\n.ql-picker-item[data-value=newtable_1_2]:before {\n    content: "1x2";\n}\n\n.ql-picker-item[data-value=newtable_1_3]:before {\n    content: "1x3";\n}\n\n.ql-picker-item[data-value=newtable_1_4]:before {\n    content: "1x4";\n}\n\n.ql-picker-item[data-value=newtable_1_5]:before {\n    content: "1x5";\n}\n\n.ql-picker-item[data-value=newtable_2_1]:before {\n    content: "2x1";\n}\n\n.ql-picker-item[data-value=newtable_2_2]:before {\n    content: "2x2";\n}\n\n.ql-picker-item[data-value=newtable_2_3]:before {\n    content: "2x3";\n}\n\n.ql-picker-item[data-value=newtable_2_4]:before {\n    content: "2x4";\n}\n\n.ql-picker-item[data-value=newtable_2_5]:before {\n    content: "2x5";\n}\n\n.ql-picker-item[data-value=newtable_3_1]:before {\n    content: "3x1";\n}\n\n.ql-picker-item[data-value=newtable_3_2]:before {\n    content: "3x2";\n}\n\n.ql-picker-item[data-value=newtable_3_3]:before {\n    content: "3x3";\n}\n\n.ql-picker-item[data-value=newtable_3_4]:before {\n    content: "3x4";\n}\n\n.ql-picker-item[data-value=newtable_3_5]:before {\n    content: "3x5";\n}\n\n.ql-picker-item[data-value=newtable_4_1]:before {\n    content: "4x1";\n}\n\n.ql-picker-item[data-value=newtable_4_2]:before {\n    content: "4x2";\n}\n\n.ql-picker-item[data-value=newtable_4_3]:before {\n    content: "4x3";\n}\n\n.ql-picker-item[data-value=newtable_4_4]:before {\n    content: "4x4";\n}\n\n.ql-picker-item[data-value=newtable_4_5]:before {\n    content: "4x5";\n}\n\n.ql-picker-item[data-value=newtable_5_1]:before {\n    content: "5x1";\n}\n\n.ql-picker-item[data-value=newtable_5_2]:before {\n    content: "5x2";\n}\n\n.ql-picker-item[data-value=newtable_5_3]:before {\n    content: "5x3";\n}\n\n.ql-picker-item[data-value=newtable_5_4]:before {\n    content: "5x4";\n}\n\n.ql-picker-item[data-value=newtable_5_5]:before {\n    content: "5x5";\n}\n',"",{version:3,sources:["webpack://./src/css/quill.table.css"],names:[],mappings:"AAAA;IACI,WAAW;IACX,yBAAyB;IACzB,mBAAmB;IACnB,eAAe;IACf,mBAAmB;AACvB;;AAEA;IACI,uBAAuB;IACvB,gBAAgB;IAChB,YAAY;IACZ,mBAAmB;IACnB,mBAAmB;AACvB;;AAEA;IACI,yBAAyB;AAC7B;;AAEA;EACE,gBAAgB;AAClB;;AAEA;IACI,sBAAsB;IACtB,eAAe;AACnB;;AAEA;IACI,aAAa;AACjB;AACA,wCAAwC;AACxC;IACI,cAAc;IACd,eAAe;AACnB;;AAEA;IACI,gBAAgB;AACpB;AACA;IACI,kCAAkC;IAClC,gBAAgB;IAChB,gBAAgB;IAChB,gBAAgB;AACpB;;AAEA;EACE,uBAAuB;AACzB;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI;AACJ;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI;AACJ;;AAEA;;IAEI,WAAW;IACX,eAAe;AACnB;;AAEA;IACI,eAAe;IACf,mBAAmB;AACvB;;AAEA;IACI,gBAAgB;IAChB,WAAW;AACf;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,cAAc;IACd,WAAW;IACX,WAAW;IACX,YAAY;IACZ,iBAAiB;IACjB,kBAAkB;IAClB,YAAY;IACZ,WAAW;AACf;;AAEA;IACI,aAAa;IACb,YAAY;AAChB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,sBAAsB;IACtB,WAAW;AACf;;AAEA;IACI,qBAAqB;AACzB;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,sBAAsB;AAC1B;;AAEA;IACI,sBAAsB;IACtB,WAAW;AACf;AACA;IACI,uBAAuB;IACvB,WAAW;IACX,cAAc;IACd,eAAe;AACnB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,cAAc;AAClB",sourcesContent:['.ql-editor table {\n    width: 100%;\n    border-collapse: collapse;\n    table-layout: fixed;\n    overflow:hidden;\n    white-space: nowrap;\n}\n\n.ql-editor table td {\n    border: 1px solid black;\n    padding: 2px 5px;\n    height: 25px;\n    vertical-align: top;\n    white-space: normal;\n}\n\n.ql-editor table td.ql-cell-selected {\n    background-color: #cce0f8;\n}\n\n.quill-better-table-wrapper {\n  overflow-x: auto;\n}\n\n.ql-picker.ql-table {\n    width: auto !important;\n    margin-right: 0;\n}\n\n.ql-picker.ql-table .ql-picker-label svg {\n    display: none;\n}\n/* .ql-formats button.ql-table::after, */\n.ql-picker.ql-table .ql-picker-label::before {\n    display: block;\n    font-size: 14px;\n}\n\n.ql-picker.ql-table:nth-of-type(1) .ql-picker-label::before {\n    content: "\\f0ce";\n}\n.ql-picker.ql-table .ql-picker-label::before {\n    font-family: "Font Awesome 5 Free";\n    font-weight: 900;\n    padding-top: 2px;\n    line-height: 1em;\n}\n\n.ql-picker-item[data-value="insert"]::after {\n  content: "Insert table";\n}\n\n.ql-picker-item[data-value="append-col"]::after {\n    content: "Add col";\n}\n\n.ql-picker-item[data-value="remove-col"]::after {\n    content: "Remove col"\n}\n\n.ql-picker-item[data-value="append-row"]::after {\n    content: "Add row";\n}\n\n.ql-picker-item[data-value="remove-row"]::after {\n    content: "Remove row"\n}\n\n.ql-table:nth-of-type(1),\n.ql-contain {\n    width: 90px;\n    margin-right: 0;\n}\n\n.ql-picker.ql-table:nth-of-type(1) {\n    font-size: 11px;\n    font-weight: normal;\n}\n\n.ql-picker.ql-table .ql-picker-label {\n    padding: 2px 3px;\n    width: 23px;\n}\n\n.ql-picker.ql-table:nth-of-type(1) .ql-picker-options {\n    width: 180px;\n}\n\n.ql-picker.ql-table:nth-of-type(1) .ql-picker-item {\n    display: block;\n    float: left;\n    width: 30px;\n    height: 30px;\n    line-height: 30px;\n    text-align: center;\n    padding: 0px;\n    margin: 1px;\n}\n\n.ql-picker.ql-table:nth-of-type(2) {\n    display: flex;\n    width: 145px;\n}\n\n.ql-picker.ql-table:nth-of-type(2) .ql-picker-label::before {\n    content: "\\f850";\n}\n\n.ql-picker.ql-table:nth-of-type(2) {\n    color: #444;\n}\n\n.ql-picker.ql-table:nth-of-type(1) .ql-picker-item {\n    border: 1px solid #444;\n    color: #444;\n}\n\n.ql-table:nth-of-type(2) .ql-picker-label.ql-active {\n    color: #444!important;\n}\n\n.ql-toolbar .ql-picker-item.ql-selected:before, .ql-picker.ql-table:nth-of-type(2) .ql-picker-item {\n    color: #444;\n}\n\n.ql-picker-label.ql-active .ql-stroke {\n    stroke: #444!important;\n}\n\n.ql-picker-item[data-value="remove-table"] {\n    border: none!important;\n    width: 100%;\n}\n.ql-picker-item[data-value="remove-table"]:before {\n    content: "Remove table";\n    width: auto;\n    display: block;\n    font-size: 12px;\n}\n\n.ql-picker-item[data-value=newtable_1_1]:before {\n    content: "1x1";\n}\n\n.ql-picker-item[data-value=newtable_1_2]:before {\n    content: "1x2";\n}\n\n.ql-picker-item[data-value=newtable_1_3]:before {\n    content: "1x3";\n}\n\n.ql-picker-item[data-value=newtable_1_4]:before {\n    content: "1x4";\n}\n\n.ql-picker-item[data-value=newtable_1_5]:before {\n    content: "1x5";\n}\n\n.ql-picker-item[data-value=newtable_2_1]:before {\n    content: "2x1";\n}\n\n.ql-picker-item[data-value=newtable_2_2]:before {\n    content: "2x2";\n}\n\n.ql-picker-item[data-value=newtable_2_3]:before {\n    content: "2x3";\n}\n\n.ql-picker-item[data-value=newtable_2_4]:before {\n    content: "2x4";\n}\n\n.ql-picker-item[data-value=newtable_2_5]:before {\n    content: "2x5";\n}\n\n.ql-picker-item[data-value=newtable_3_1]:before {\n    content: "3x1";\n}\n\n.ql-picker-item[data-value=newtable_3_2]:before {\n    content: "3x2";\n}\n\n.ql-picker-item[data-value=newtable_3_3]:before {\n    content: "3x3";\n}\n\n.ql-picker-item[data-value=newtable_3_4]:before {\n    content: "3x4";\n}\n\n.ql-picker-item[data-value=newtable_3_5]:before {\n    content: "3x5";\n}\n\n.ql-picker-item[data-value=newtable_4_1]:before {\n    content: "4x1";\n}\n\n.ql-picker-item[data-value=newtable_4_2]:before {\n    content: "4x2";\n}\n\n.ql-picker-item[data-value=newtable_4_3]:before {\n    content: "4x3";\n}\n\n.ql-picker-item[data-value=newtable_4_4]:before {\n    content: "4x4";\n}\n\n.ql-picker-item[data-value=newtable_4_5]:before {\n    content: "4x5";\n}\n\n.ql-picker-item[data-value=newtable_5_1]:before {\n    content: "5x1";\n}\n\n.ql-picker-item[data-value=newtable_5_2]:before {\n    content: "5x2";\n}\n\n.ql-picker-item[data-value=newtable_5_3]:before {\n    content: "5x3";\n}\n\n.ql-picker-item[data-value=newtable_5_4]:before {\n    content: "5x4";\n}\n\n.ql-picker-item[data-value=newtable_5_5]:before {\n    content: "5x5";\n}\n'],sourceRoot:""}]);const l=a},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var l=0;l<this.length;l++){var c=this[l][0];null!=c&&(a[c]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);r&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},537:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */"),a=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(a).concat([i]).join("\n")}return[t].join("\n")}},251:(e,t,n)=>{var r=n(215),o=n(584),i=n(609),a=n(420),l=n(847),c=n(923),s=Date.prototype.getTime;function u(e,t,n){var d=n||{};return!!(d.strict?i(e,t):e===t)||(!e||!t||"object"!=typeof e&&"object"!=typeof t?d.strict?i(e,t):e==t:function(e,t,n){var i,d;if(typeof e!=typeof t)return!1;if(p(e)||p(t))return!1;if(e.prototype!==t.prototype)return!1;if(o(e)!==o(t))return!1;var y=a(e),h=a(t);if(y!==h)return!1;if(y||h)return e.source===t.source&&l(e)===l(t);if(c(e)&&c(t))return s.call(e)===s.call(t);var b=f(e),A=f(t);if(b!==A)return!1;if(b||A){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}if(typeof e!=typeof t)return!1;try{var m=r(e),v=r(t)}catch(e){return!1}if(m.length!==v.length)return!1;for(m.sort(),v.sort(),i=m.length-1;i>=0;i--)if(m[i]!=v[i])return!1;for(i=m.length-1;i>=0;i--)if(!u(e[d=m[i]],t[d],n))return!1;return!0}(e,t,d))}function p(e){return null==e}function f(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}e.exports=u},289:(e,t,n)=>{"use strict";var r=n(215),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,l=Object.defineProperty,c=n(44)(),s=l&&c,u=function(e,t,n,r){var o;(!(t in e)||"function"==typeof(o=r)&&"[object Function]"===i.call(o)&&r())&&(s?l(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},p=function(e,t){var n=arguments.length>2?arguments[2]:{},i=r(t);o&&(i=a.call(i,Object.getOwnPropertySymbols(t)));for(var l=0;l<i.length;l+=1)u(e,i[l],t[i[l]],n[i[l]])};p.supportsDescriptors=!!s,e.exports=p},470:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},a=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var r,o=t.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!i)return!1;for(r in e);return void 0===r||t.call(e,r)},l=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},c=function(e,n){if("__proto__"===n){if(!t.call(e,n))return;if(o)return o(e,n).value}return e[n]};e.exports=function e(){var t,n,r,o,s,u,p=arguments[0],f=1,d=arguments.length,y=!1;for("boolean"==typeof p&&(y=p,p=arguments[1]||{},f=2),(null==p||"object"!=typeof p&&"function"!=typeof p)&&(p={});f<d;++f)if(null!=(t=arguments[f]))for(n in t)r=c(p,n),p!==(o=c(t,n))&&(y&&o&&(a(o)||(s=i(o)))?(s?(s=!1,u=r&&i(r)?r:[]):u=r&&a(r)?r:{},l(p,{name:n,newValue:e(y,u,o)})):void 0!==o&&l(p,{name:n,newValue:o}));return p}},529:e=>{var t=-1;function n(e,l,s){if(e==l)return e?[[0,e]]:[];(s<0||e.length<s)&&(s=null);var u=o(e,l),p=e.substring(0,u);u=i(e=e.substring(u),l=l.substring(u));var f=e.substring(e.length-u),d=function(e,a){var l;if(!e)return[[1,a]];if(!a)return[[t,e]];var c=e.length>a.length?e:a,s=e.length>a.length?a:e,u=c.indexOf(s);if(-1!=u)return l=[[1,c.substring(0,u)],[0,s],[1,c.substring(u+s.length)]],e.length>a.length&&(l[0][0]=l[2][0]=t),l;if(1==s.length)return[[t,e],[1,a]];var p=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function a(e,t,n){for(var r,a,l,c,s=e.substring(n,n+Math.floor(e.length/4)),u=-1,p="";-1!=(u=t.indexOf(s,u+1));){var f=o(e.substring(n),t.substring(u)),d=i(e.substring(0,n),t.substring(0,u));p.length<d+f&&(p=t.substring(u-d,u)+t.substring(u,u+f),r=e.substring(0,n-d),a=e.substring(n+f),l=t.substring(0,u-d),c=t.substring(u+f))}return 2*p.length>=e.length?[r,a,l,c,p]:null}var l,c,s,u,p,f=a(n,r,Math.ceil(n.length/4)),d=a(n,r,Math.ceil(n.length/2));if(!f&&!d)return null;l=d?f&&f[4].length>d[4].length?f:d:f;e.length>t.length?(c=l[0],s=l[1],u=l[2],p=l[3]):(u=l[0],p=l[1],c=l[2],s=l[3]);var y=l[4];return[c,s,u,p,y]}(e,a);if(p){var f=p[0],d=p[1],y=p[2],h=p[3],b=p[4],A=n(f,y),m=n(d,h);return A.concat([[0,b]],m)}return function(e,n){for(var o=e.length,i=n.length,a=Math.ceil((o+i)/2),l=a,c=2*a,s=new Array(c),u=new Array(c),p=0;p<c;p++)s[p]=-1,u[p]=-1;s[l+1]=0,u[l+1]=0;for(var f=o-i,d=f%2!=0,y=0,h=0,b=0,A=0,m=0;m<a;m++){for(var v=-m+y;v<=m-h;v+=2){for(var g=l+v,k=(E=v==-m||v!=m&&s[g-1]<s[g+1]?s[g+1]:s[g-1]+1)-v;E<o&&k<i&&e.charAt(E)==n.charAt(k);)E++,k++;if(s[g]=E,E>o)h+=2;else if(k>i)y+=2;else if(d){if((C=l+f-v)>=0&&C<c&&-1!=u[C])if(E>=(w=o-u[C]))return r(e,n,E,k)}}for(var x=-m+b;x<=m-A;x+=2){for(var w,C=l+x,q=(w=x==-m||x!=m&&u[C-1]<u[C+1]?u[C+1]:u[C-1]+1)-x;w<o&&q<i&&e.charAt(o-w-1)==n.charAt(i-q-1);)w++,q++;if(u[C]=w,w>o)A+=2;else if(q>i)b+=2;else if(!d){if((g=l+f-x)>=0&&g<c&&-1!=s[g]){var E;k=l+(E=s[g])-g;if(E>=(w=o-w))return r(e,n,E,k)}}}}return[[t,e],[1,n]]}(e,a)}(e=e.substring(0,e.length-u),l=l.substring(0,l.length-u));return p&&d.unshift([0,p]),f&&d.push([0,f]),a(d),null!=s&&(d=function(e,n){var r=function(e,n){if(0===n)return[0,e];for(var r=0,o=0;o<e.length;o++){var i=e[o];if(i[0]===t||0===i[0]){var a=r+i[1].length;if(n===a)return[o+1,e];if(n<a){e=e.slice();var l=n-r,c=[i[0],i[1].slice(0,l)],s=[i[0],i[1].slice(l)];return e.splice(o,1,c,s),[o+1,e]}r=a}}throw new Error("cursor_pos is out of bounds!")}(e,n),o=r[1],i=r[0],a=o[i],l=o[i+1];if(null==a)return e;if(0!==a[0])return e;if(null!=l&&a[1]+l[1]===l[1]+a[1])return o.splice(i,2,l,a),c(o,i,2);if(null!=l&&0===l[1].indexOf(a[1])){o.splice(i,2,[l[0],a[1]],[0,a[1]]);var s=l[1].slice(a[1].length);return s.length>0&&o.splice(i+2,0,[l[0],s]),c(o,i,3)}return e}(d,s)),d=function(e){for(var n=!1,r=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},o=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},i=2;i<e.length;i+=1)0===e[i-2][0]&&o(e[i-2][1])&&e[i-1][0]===t&&r(e[i-1][1])&&1===e[i][0]&&r(e[i][1])&&(n=!0,e[i-1][1]=e[i-2][1].slice(-1)+e[i-1][1],e[i][1]=e[i-2][1].slice(-1)+e[i][1],e[i-2][1]=e[i-2][1].slice(0,-1));if(!n)return e;var a=[];for(i=0;i<e.length;i+=1)e[i][1].length>0&&a.push(e[i]);return a}(d)}function r(e,t,r,o){var i=e.substring(0,r),a=t.substring(0,o),l=e.substring(r),c=t.substring(o),s=n(i,a),u=n(l,c);return s.concat(u)}function o(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,i=0;n<o;)e.substring(i,o)==t.substring(i,o)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return o}function i(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,i=0;n<o;)e.substring(e.length-o,e.length-i)==t.substring(t.length-o,t.length-i)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return o}function a(e){e.push([0,""]);for(var n,r=0,l=0,c=0,s="",u="";r<e.length;)switch(e[r][0]){case 1:c++,u+=e[r][1],r++;break;case t:l++,s+=e[r][1],r++;break;case 0:l+c>1?(0!==l&&0!==c&&(0!==(n=o(u,s))&&(r-l-c>0&&0==e[r-l-c-1][0]?e[r-l-c-1][1]+=u.substring(0,n):(e.splice(0,0,[0,u.substring(0,n)]),r++),u=u.substring(n),s=s.substring(n)),0!==(n=i(u,s))&&(e[r][1]=u.substring(u.length-n)+e[r][1],u=u.substring(0,u.length-n),s=s.substring(0,s.length-n))),0===l?e.splice(r-c,l+c,[1,u]):0===c?e.splice(r-l,l+c,[t,s]):e.splice(r-l-c,l+c,[t,s],[1,u]),r=r-l-c+(l?1:0)+(c?1:0)+1):0!==r&&0==e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,c=0,l=0,s="",u=""}""===e[e.length-1][1]&&e.pop();var p=!1;for(r=1;r<e.length-1;)0==e[r-1][0]&&0==e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),p=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),p=!0)),r++;p&&a(e)}var l=n;function c(e,t,n){for(var r=t+n-1;r>=0&&r>=t-1;r--)if(r+1<e.length){var o=e[r],i=e[r+1];o[0]===i[1]&&e.splice(r,2,[o[0],o[1]+i[1]])}return e}l.INSERT=1,l.DELETE=t,l.EQUAL=0,e.exports=l},648:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,r=Object.prototype.toString,o="[object Function]";e.exports=function(e){var i=this;if("function"!=typeof i||r.call(i)!==o)throw new TypeError(t+i);for(var a,l=n.call(arguments,1),c=function(){if(this instanceof a){var t=i.apply(this,l.concat(n.call(arguments)));return Object(t)===t?t:this}return i.apply(e,l.concat(n.call(arguments)))},s=Math.max(0,i.length-l.length),u=[],p=0;p<s;p++)u.push("$"+p);if(a=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(c),i.prototype){var f=function(){};f.prototype=i.prototype,a.prototype=new f,f.prototype=null}return a}},612:(e,t,n)=>{"use strict";var r=n(648);e.exports=Function.prototype.bind||r},972:e=>{"use strict";var t=function(){return"string"==typeof function(){}.name},n=Object.getOwnPropertyDescriptor;if(n)try{n([],"length")}catch(e){n=null}t.functionsHaveConfigurableNames=function(){if(!t()||!n)return!1;var e=n((function(){}),"name");return!!e&&!!e.configurable};var r=Function.prototype.bind;t.boundFunctionsHaveNames=function(){return t()&&"function"==typeof r&&""!==function(){}.bind().name},e.exports=t},210:(e,t,n)=>{"use strict";var r,o=SyntaxError,i=Function,a=TypeError,l=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(e){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(e){c=null}var s=function(){throw new a},u=c?function(){try{return s}catch(e){try{return c(arguments,"callee").get}catch(e){return s}}}():s,p=n(405)(),f=Object.getPrototypeOf||function(e){return e.__proto__},d={},y="undefined"==typeof Uint8Array?r:f(Uint8Array),h={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":p?f([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p?f(f([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p?f((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p?f((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p?f(""[Symbol.iterator]()):r,"%Symbol%":p?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":u,"%TypedArray%":y,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet},b=function e(t){var n;if("%AsyncFunction%"===t)n=l("async function () {}");else if("%GeneratorFunction%"===t)n=l("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=l("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(n=f(o.prototype))}return h[t]=n,n},A={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},m=n(612),v=n(642),g=m.call(Function.call,Array.prototype.concat),k=m.call(Function.apply,Array.prototype.splice),x=m.call(Function.call,String.prototype.replace),w=m.call(Function.call,String.prototype.slice),C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,q=/\\(\\)?/g,E=function(e){var t=w(e,0,1),n=w(e,-1);if("%"===t&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return x(e,C,(function(e,t,n,o){r[r.length]=n?x(o,q,"$1"):t||e})),r},I=function(e,t){var n,r=e;if(v(A,r)&&(r="%"+(n=A[r])[0]+"%"),v(h,r)){var i=h[r];if(i===d&&(i=b(r)),void 0===i&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');var n=E(e),r=n.length>0?n[0]:"",i=I("%"+r+"%",t),l=i.name,s=i.value,u=!1,p=i.alias;p&&(r=p[0],k(n,g([0,1],p)));for(var f=1,d=!0;f<n.length;f+=1){var y=n[f],b=w(y,0,1),A=w(y,-1);if(('"'===b||"'"===b||"`"===b||'"'===A||"'"===A||"`"===A)&&b!==A)throw new o("property names with quotes must have matching quotes");if("constructor"!==y&&d||(u=!0),v(h,l="%"+(r+="."+y)+"%"))s=h[l];else if(null!=s){if(!(y in s)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(c&&f+1>=n.length){var m=c(s,y);s=(d=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:s[y]}else d=v(s,y),s=s[y];d&&!u&&(h[l]=s)}}return s}},44:(e,t,n)=>{"use strict";var r=n(210)("%Object.defineProperty%",!0),o=function(){if(r)try{return r({},"a",{value:1}),!0}catch(e){return!1}return!1};o.hasArrayLengthDefineBug=function(){if(!o())return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=o},405:(e,t,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(419);e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},410:(e,t,n)=>{"use strict";var r=n(419);e.exports=function(){return r()&&!!Symbol.toStringTag}},642:(e,t,n)=>{"use strict";var r=n(612);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},584:(e,t,n)=>{"use strict";var r=n(410)(),o=n(924)("Object.prototype.toString"),i=function(e){return!(r&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o(e)},a=function(e){return!!i(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==o(e)&&"[object Function]"===o(e.callee)},l=function(){return i(arguments)}();i.isLegacyArguments=a,e.exports=l?i:a},923:(e,t,n)=>{"use strict";var r=Date.prototype.getDay,o=Object.prototype.toString,i=n(410)();e.exports=function(e){return"object"==typeof e&&null!==e&&(i?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object Date]"===o.call(e))}},420:(e,t,n)=>{"use strict";var r,o,i,a,l=n(924),c=n(410)();if(c){r=l("Object.prototype.hasOwnProperty"),o=l("RegExp.prototype.exec"),i={};var s=function(){throw i};a={toString:s,valueOf:s},"symbol"==typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=s)}var u=l("Object.prototype.toString"),p=Object.getOwnPropertyDescriptor;e.exports=c?function(e){if(!e||"object"!=typeof e)return!1;var t=p(e,"lastIndex");if(!(t&&r(t,"value")))return!1;try{o(e,a)}catch(e){return e===i}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===u(e)}},244:e=>{"use strict";var t=function(e){return e!=e};e.exports=function(e,n){return 0===e&&0===n?1/e==1/n:e===n||!(!t(e)||!t(n))}},609:(e,t,n)=>{"use strict";var r=n(289),o=n(559),i=n(244),a=n(624),l=n(281),c=o(a(),Object);r(c,{getPolyfill:a,implementation:i,shim:l}),e.exports=c},624:(e,t,n)=>{"use strict";var r=n(244);e.exports=function(){return"function"==typeof Object.is?Object.is:r}},281:(e,t,n)=>{"use strict";var r=n(624),o=n(289);e.exports=function(){var e=r();return o(Object,{is:e},{is:function(){return Object.is!==e}}),e}},987:(e,t,n)=>{"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=n(414),l=Object.prototype.propertyIsEnumerable,c=!l.call({toString:null},"toString"),s=l.call((function(){}),"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(e){var t=e.constructor;return t&&t.prototype===e},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!f["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{p(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===i.call(e),r=a(e),l=t&&"[object String]"===i.call(e),f=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var y=s&&n;if(l&&e.length>0&&!o.call(e,0))for(var h=0;h<e.length;++h)f.push(String(h));if(r&&e.length>0)for(var b=0;b<e.length;++b)f.push(String(b));else for(var A in e)y&&"prototype"===A||!o.call(e,A)||f.push(String(A));if(c)for(var m=function(e){if("undefined"==typeof window||!d)return p(e);try{return p(e)}catch(e){return!1}}(e),v=0;v<u.length;++v)m&&"constructor"===u[v]||!o.call(e,u[v])||f.push(u[v]);return f}}e.exports=r},215:(e,t,n)=>{"use strict";var r=Array.prototype.slice,o=n(414),i=Object.keys,a=i?function(e){return i(e)}:n(987),l=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return o(e)?l(r.call(e)):l(e)})}else Object.keys=a;return Object.keys||a},e.exports=a},414:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var n=t.call(e),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),r}},175:(e,t,n)=>{var r=n(529),o=n(251),i=n(470),a=n(910),l=String.fromCharCode(0),c=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};c.prototype.insert=function(e,t){var n={};return 0===e.length?this:(n.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},c.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},c.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},c.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=i(!0,{},e),"object"==typeof n){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!=typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(o(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},c.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},c.prototype.filter=function(e){return this.ops.filter(e)},c.prototype.forEach=function(e){this.ops.forEach(e)},c.prototype.map=function(e){return this.ops.map(e)},c.prototype.partition=function(e){var t=[],n=[];return this.forEach((function(r){(e(r)?t:n).push(r)})),[t,n]},c.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},c.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+a.length(t):t.delete?e-t.delete:e}),0)},c.prototype.length=function(){return this.reduce((function(e,t){return e+a.length(t)}),0)},c.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var n=[],r=a.iterator(this.ops),o=0;o<t&&r.hasNext();){var i;o<e?i=r.next(e-o):(i=r.next(t-o),n.push(i)),o+=a.length(i)}return new c(n)},c.prototype.compose=function(e){var t=a.iterator(this.ops),n=a.iterator(e.ops),r=[],i=n.peek();if(null!=i&&"number"==typeof i.retain&&null==i.attributes){for(var l=i.retain;"insert"===t.peekType()&&t.peekLength()<=l;)l-=t.peekLength(),r.push(t.next());i.retain-l>0&&n.next(i.retain-l)}for(var s=new c(r);t.hasNext()||n.hasNext();)if("insert"===n.peekType())s.push(n.next());else if("delete"===t.peekType())s.push(t.next());else{var u=Math.min(t.peekLength(),n.peekLength()),p=t.next(u),f=n.next(u);if("number"==typeof f.retain){var d={};"number"==typeof p.retain?d.retain=u:d.insert=p.insert;var y=a.attributes.compose(p.attributes,f.attributes,"number"==typeof p.retain);if(y&&(d.attributes=y),s.push(d),!n.hasNext()&&o(s.ops[s.ops.length-1],d)){var h=new c(t.rest());return s.concat(h).chop()}}else"number"==typeof f.delete&&"number"==typeof p.retain&&s.push(f)}return s.chop()},c.prototype.concat=function(e){var t=new c(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},c.prototype.diff=function(e,t){if(this.ops===e.ops)return new c;var n=[this,e].map((function(t){return t.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:l;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),i=new c,s=r(n[0],n[1],t),u=a.iterator(this.ops),p=a.iterator(e.ops);return s.forEach((function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case r.INSERT:n=Math.min(p.peekLength(),t),i.push(p.next(n));break;case r.DELETE:n=Math.min(t,u.peekLength()),u.next(n),i.delete(n);break;case r.EQUAL:n=Math.min(u.peekLength(),p.peekLength(),t);var l=u.next(n),c=p.next(n);o(l.insert,c.insert)?i.retain(n,a.attributes.diff(l.attributes,c.attributes)):i.push(c).delete(n)}t-=n}})),i.chop()},c.prototype.eachLine=function(e,t){t=t||"\n";for(var n=a.iterator(this.ops),r=new c,o=0;n.hasNext();){if("insert"!==n.peekType())return;var i=n.peek(),l=a.length(i)-n.peekLength(),s="string"==typeof i.insert?i.insert.indexOf(t,l)-l:-1;if(s<0)r.push(n.next());else if(s>0)r.push(n.next(s));else{if(!1===e(r,n.next(1).attributes||{},o))return;o+=1,r=new c}}r.length()>0&&e(r,{},o)},c.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var n=a.iterator(this.ops),r=a.iterator(e.ops),o=new c;n.hasNext()||r.hasNext();)if("insert"!==n.peekType()||!t&&"insert"===r.peekType())if("insert"===r.peekType())o.push(r.next());else{var i=Math.min(n.peekLength(),r.peekLength()),l=n.next(i),s=r.next(i);if(l.delete)continue;s.delete?o.push(s):o.retain(i,a.attributes.transform(l.attributes,s.attributes,t))}else o.retain(a.length(n.next()));return o.chop()},c.prototype.transformPosition=function(e,t){t=!!t;for(var n=a.iterator(this.ops),r=0;n.hasNext()&&r<=e;){var o=n.peekLength(),i=n.peekType();n.next(),"delete"!==i?("insert"===i&&(r<e||!t)&&(e+=o),r+=o):e-=Math.min(o,e-r)}return e},e.exports=c},910:(e,t,n)=>{var r=n(251),o=n(470),i={attributes:{compose:function(e,t,n){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=o(!0,{},t);for(var i in n||(r=Object.keys(r).reduce((function(e,t){return null!=r[t]&&(e[t]=r[t]),e}),{})),e)void 0!==e[i]&&void 0===t[i]&&(r[i]=e[i]);return Object.keys(r).length>0?r:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce((function(n,o){return r(e[o],t[o])||(n[o]=void 0===t[o]?null:t[o]),n}),{});return Object.keys(n).length>0?n:void 0},transform:function(e,t,n){if("object"!=typeof e)return t;if("object"==typeof t){if(!n)return t;var r=Object.keys(t).reduce((function(n,r){return void 0===e[r]&&(n[r]=t[r]),n}),{});return Object.keys(r).length>0?r:void 0}}},iterator:function(e){return new a(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function a(e){this.ops=e,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,r=i.length(t);if(e>=r-n?(e=r-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var o={};return t.attributes&&(o.attributes=t.attributes),"number"==typeof t.retain?o.retain=e:"string"==typeof t.insert?o.insert=t.insert.substr(n,e):o.insert=t.insert,o}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?i.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(r)}return[]},e.exports=i},697:(e,t,n)=>{"use strict";var r=n(972).functionsHaveConfigurableNames(),o=Object,i=TypeError;e.exports=function(){if(null!=this&&this!==o(this))throw new i("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e},r&&Object.defineProperty&&Object.defineProperty(e.exports,"name",{value:"get flags"})},847:(e,t,n)=>{"use strict";var r=n(289),o=n(559),i=n(697),a=n(721),l=n(753),c=o(a());r(c,{getPolyfill:a,implementation:i,shim:l}),e.exports=c},721:(e,t,n)=>{"use strict";var r=n(697),o=n(289).supportsDescriptors,i=Object.getOwnPropertyDescriptor;e.exports=function(){if(o&&"gim"===/a/gim.flags){var e=i(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var t="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(n,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return r}},753:(e,t,n)=>{"use strict";var r=n(289).supportsDescriptors,o=n(721),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,l=TypeError,c=Object.getPrototypeOf,s=/a/;e.exports=function(){if(!r||!c)throw new l("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=c(s),n=i(t,"flags");return n&&n.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},379:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],l=0;l<e.length;l++){var c=e[l],s=r.base?c[0]+r.base:c[0],u=i[s]||0,p="".concat(s," ").concat(u);i[s]=u+1;var f=n(p),d={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==f)t[f].references++,t[f].updater(d);else{var y=o(d,r);r.byIndex=l,t.splice(l,0,{identifier:p,updater:y,references:1})}a.push(p)}return a}function o(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var l=n(i[a]);t[l].references--}for(var c=r(e,o),s=0;s<i.length;s++){var u=n(i[s]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=c}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},665:t=>{"use strict";t.exports=e}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={id:e,exports:{}};return t[e](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nc=void 0;var o={};return(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function t(t,n){return function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(t,n)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}r.r(o),r.d(o,{default:()=>pe});var l=r(665),c=r.n(l),s=r(175),u=r.n(s);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function d(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=d(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},y.apply(this,arguments)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function m(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}var g=c().import("blots/container"),k=c().import("blots/block"),x=c().import("blots/block/embed"),w=c().import("parchment"),C=function(e){b(r,e);var t=v(r);function r(){return n(this,r),t.apply(this,arguments)}return a(r,[{key:"formats",value:function(e){return e?e.tagName:this.domNode.tagName}}],[{key:"create",value:function(e){return y(f(r),"create",this).call(this,e)}}]),r}(g);C.blotName="contain",C.tagName="contain",C.scope=w.Scope.BLOCK_BLOT,C.defaultChild="block",C.allowedChildren=[k,x,g];const q=C;function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}var I=c().import("blots/container"),_=c().import("blots/block"),S=c().import("blots/block/embed"),O=c().import("parchment"),B=function(e){b(r,e);var t=E(r);function r(){return n(this,r),t.apply(this,arguments)}return a(r,[{key:"format",value:function(){}},{key:"formats",value:function(){return p({},this.statics.blotName,this.domNode.getAttribute("table_id")+"|"+this.domNode.getAttribute("row_id")+"|"+this.domNode.getAttribute("cell_id"))}},{key:"optimize",value:function(e){y(f(r.prototype),"optimize",this).call(this,e);var t=this.parent;if(null!=t){if("td"===t.statics.blotName)return this.moveChildren(t,this),void this.remove();if("tr"!=t.statics.blotName){var n=O.create("block");this.parent.insertBefore(n,this.next);var o=O.create("table",this.domNode.getAttribute("table_id")),i=O.create("tr",this.domNode.getAttribute("row_id"));o.appendChild(i),i.appendChild(this),o.replace(n)}}var a=this.next;null!=a&&a.prev===this&&a.statics.blotName===this.statics.blotName&&a.domNode.tagName===this.domNode.tagName&&a.domNode.getAttribute("cell_id")===this.domNode.getAttribute("cell_id")&&(a.moveChildren(this),a.remove())}},{key:"insertBefore",value:function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t}))){var n=O.create(this.statics.defaultChild);n.appendChild(e),e=n}y(f(r.prototype),"insertBefore",this).call(this,e,t)}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var t=O.create(this.statics.defaultChild);e.moveChildren(t),this.appendChild(t)}null!=e.parent&&y(f(r.prototype),"replace",this).call(this,e)}},{key:"moveChildren",value:function(e,t){this.children.forEach((function(n){e.insertBefore(n,t)}))}}],[{key:"create",value:function(e){var t=y(f(r),"create",this).call(this,"td"),n=e.split("|");return t.setAttribute("table_id",n[0]),t.setAttribute("row_id",n[1]),t.setAttribute("cell_id",n[2]),t}}]),r}(q);B.blotName="td",B.tagName="td",B.className="td-q",B.scope=O.Scope.BLOCK_BLOT,B.allowedChildren=[_,S,I];const j=B;var N=function(){function e(){n(this,e)}return a(e,null,[{key:"register",value:function(t,n,r,o){e.changes.push({type:t,node:n,nextNode:r,parentNode:o})}},{key:"add",value:function(t){if(e.changes.length){var n=t.history.ignoreChange;t.history.ignoreChange=!0,t.history.lastRecorded=0,setTimeout((function(){t.history.ignoreChange=n;var r=L.random_id();t.history.tableStack[r]=e.changes,t.history.stack.undo.push({type:"tableHistory",id:r}),e.changes=[]}),0)}}},{key:"undo",value:function(t){var n=quill.history.ignoreChange;quill.history.ignoreChange=!0;var r=quill.history.tableStack[t];void 0!==r&&r.reverse().forEach((function(t){switch(t.type){case"insert":e.remove(t);break;case"remove":e.insert(t)}})),setTimeout((function(){var e=quill.history.stack.undo.pop();quill.history.stack.redo.push(e),quill.history.ignoreChange=n}),0)}},{key:"redo",value:function(t){var n=quill.history.ignoreChange;quill.history.ignoreChange=!0;var r=quill.history.tableStack[t];void 0!==r&&r.forEach((function(t){switch(t.type){case"insert":e.insert(t);break;case"remove":e.remove(t)}})),setTimeout((function(){var e=quill.history.stack.redo.pop();quill.history.stack.undo.push(e),quill.history.ignoreChange=n}),0)}},{key:"insert",value:function(e){var t=e.parentNode||e.nextNode.parentNode;return!!t&&(e.nextNode?t.insertBefore(e.node,e.nextNode):t.appendChild(e.node),!0)}},{key:"remove",value:function(e){return e.node.remove(),!0}}]),e}();p(N,"changes",[]);const P=N;var R=function(){function e(){n(this,e)}return a(e,null,[{key:"mouseDown",value:function(t){if(1===t.which){e.isMouseDown=!0,e.selectionStartElement=e.selectionEndElement=null,e.resetSelection(t.currentTarget);var n=e.getTargetCell(t);n?!e.preventMouseDown&&n===e.clickedCellTimeout||e.focusedCell===n?e.focusedCell=n:(t.preventDefault(),e.focusedCell=null,clearTimeout(e.dblClickTimeout),e.dblClickTimeout=setTimeout((function(){e.preventMouseDown=!0,e.clickedCellTimeout=null}),500),e.preventMouseDown=!1,e.selectionStartElement=e.clickedCellTimeout=n,e.selectionStartElement&&e.selectionStartElement.classList.add("ql-cell-selected")):e.focusedCell=null}}},{key:"mouseMove",value:function(t){if(e.isMouseDown&&e.selectionStartElement){var n=e.selectionEndElement;if(e.selectionEndElement=e.getTargetCell(t),e.selectionEndElement&&e.selectionEndElement!==n&&e.selectionStartElement.closest("table")===e.selectionEndElement.closest("table")){e.resetSelection(t.currentTarget);for(var r=e.getSelectionCoords(),o=r.minY;o<=r.maxY;o++)for(var i=r.minX;i<=r.maxX;i++){var a=e.getCellAt(i,o);a&&a.classList.add("ql-cell-selected")}}}}},{key:"mouseUp",value:function(t){e.isMouseDown=!1,e.selectionEndElement||(e.selectionEndElement=e.selectionStartElement)}},{key:"getSelectionCoords",value:function(){if(e.selectionStartElement&&e.selectionEndElement){var t=[[Array.prototype.indexOf.call(e.selectionStartElement.parentElement.children,e.selectionStartElement),Array.prototype.indexOf.call(e.selectionStartElement.parentElement.parentElement.children,e.selectionStartElement.parentElement)],[Array.prototype.indexOf.call(e.selectionEndElement.parentElement.children,e.selectionEndElement),Array.prototype.indexOf.call(e.selectionEndElement.parentElement.parentElement.children,e.selectionEndElement.parentElement)]];return{coords:t,minX:Math.min(t[0][0],t[1][0]),maxX:Math.max(t[0][0],t[1][0]),minY:Math.min(t[0][1],t[1][1]),maxY:Math.max(t[0][1],t[1][1])}}return null}},{key:"getCellAt",value:function(t,n){var r=e.selectionStartElement.closest("table");return r&&void 0!==r.children[n]&&void 0!==r.children[n].children[t]?r.children[n].children[t]:null}},{key:"getTargetCell",value:function(e){var t=e.target,n=null;do{if(["td","th"].includes(t.tagName.toLowerCase())){n=t;break}t=t.parentNode}while(t&&t!==e.currentTarget);return n}},{key:"resetSelection",value:function(e){e.querySelectorAll("td.ql-cell-selected").forEach((function(e){e.classList.remove("ql-cell-selected")}))}}]),e}();p(R,"focusedCell",null),p(R,"isMouseDown",!1),p(R,"selectionStartElement",null),p(R,"selectionEndElement",null),p(R,"dblClickTimeout",null),p(R,"clickedCellTimeout",null),p(R,"preventMouseDown",!0);const T=R;var M=c().import("parchment"),F=c().import("blots/container"),D=c().import("blots/scroll"),L=function(){function e(){n(this,e)}return a(e,null,[{key:"random_id",value:function(){return Math.random().toString(36).slice(2)}},{key:"getBlot",value:function(e){var t=null,n=e.getSelection();return n&&(t=e.getLeaf(n.index)[0]),t}},{key:"find_td",value:function(t){var n=e.getBlot(t);if(n)for(;null!=n&&"td"!==n.statics.blotName;)n=n.parent;return n}},{key:"insertTable",value:function(t,n,r){for(var o=e.random_id(),i=M.create("table",o),a=0;a<r;a++){var l=e.random_id(),c=M.create("tr",l);i.appendChild(c);for(var s=0;s<n;s++){var u=o+"|"+l+"|"+e.random_id(),p=M.create("td",u);c.appendChild(p);var f=M.create("block");p.appendChild(f);var d=M.create("break");f.appendChild(d)}}for(var y=e.getBlot(t),h=null;null!=y&&!(y instanceof F||y instanceof D);)h=y,y=y.parent;y.insertBefore(i,h),P.register("insert",i.domNode,h.domNode,null),P.add(t)}},{key:"removeTable",value:function(t){var n,r=T.getSelectionCoords();if(T.resetSelection(t.container),r){var o=T.selectionStartElement.closest("table");n=M.find(o)}else{var i=e.find_td(t);i&&(n=i.parent.parent)}n&&(P.register("remove",n.domNode,n.next?n.next.domNode:null,n.parent.domNode),P.add(t),n.remove())}},{key:"addCol",value:function(t){var n=T.getSelectionCoords(),r=e.find_td(t);if(n){var o=T.getCellAt(n.maxX,n.minY)||T.getCellAt(n.maxX,n.maxY);o&&(r=M.find(o))}if(r){var i=Array.prototype.indexOf.call(r.parent.domNode.children,r.domNode)+1,a=i===r.parent.domNode.children.length,l=r.parent.parent,c=l.domNode.getAttribute("table_id");l.children.forEach((function(t){var n=t.domNode.getAttribute("row_id"),r=e.random_id(),o=M.create("td",c+"|"+n+"|"+r);if(!a||i===t.domNode.children.length)if(void 0===t.domNode.children[i])t.appendChild(o),P.register("insert",o.domNode,null,t.domNode);else{var l=M.find(t.domNode.children[i]);l&&(t.insertBefore(o,l),P.register("insert",o.domNode,l.domNode,null))}})),P.add(t)}}},{key:"addRow",value:function(t){var n=T.getSelectionCoords(),r=e.find_td(t);if(n){var o=T.getCellAt(n.minX,n.maxY)||T.getCellAt(n.maxX,n.maxY);o&&(r=M.find(o))}if(r){var i=r.parent,a=i.domNode.children.length,l=i.parent,c=i.clone(),s=Array.prototype.indexOf.call(l.domNode.children,i.domNode)+1,u=l.domNode.getAttribute("table_id"),p=e.random_id();c.domNode.setAttribute("row_id",p);for(var f=a-1;f>=0;f--){var d=e.random_id(),y=M.create("td",u+"|"+p+"|"+d);c.appendChild(y);var h=M.create("block");y.appendChild(h);var b=M.create("break");h.appendChild(b)}if(void 0===l.domNode.children[s])l.appendChild(c),P.register("insert",c.domNode,null,l.domNode);else{var A=M.find(l.domNode.children[s]);A&&(l.insertBefore(c,A),P.register("insert",c.domNode,A.domNode,null))}P.add(t)}}},{key:"removeCol",value:function(t){var n,r,o,i=T.getSelectionCoords();if(T.resetSelection(t.container),i){var a=T.selectionStartElement.closest("table");n=M.find(a),r=i.minX,o=i.maxX-i.minX+1}else{o=1;var l=e.find_td(t);l&&(n=l.parent.parent,r=Array.prototype.indexOf.call(l.parent.domNode.children,l.domNode))}if(n&&"number"==typeof r&&"number"==typeof o){for(var c=0;c<o;c++)n.children.forEach((function(e){var t=e.domNode.children[r];t&&(P.register("remove",t,t.nextSibling,e.domNode),t.remove())}));T.selectionStartElement=T.selectionEndElement=null,P.add(t)}}},{key:"removeRow",value:function(t){var n=T.getSelectionCoords();if(T.resetSelection(t.container),n)for(var r=T.selectionStartElement.closest("table"),o=n.minY,i=n.maxY-n.minY+1,a=0;a<i;a++){var l=r.children[o];l&&(P.register("remove",l,l.nextSibling,r),l.remove())}else{var c=e.find_td(t);if(c){var s=c.parent;P.register("remove",s.domNode,s.next?s.next.domNode:null,s.parent.domNode),s.remove()}}T.selectionStartElement=T.selectionEndElement=null,P.add(t)}},{key:"table_handler",value:function(t,n){if(t.includes("newtable_")){var r=t.split("_"),o=Number.parseInt(r[1]),i=Number.parseInt(r[2]);e.insertTable(n,i,o)}else if("append-col"===t)e.addCol(n);else if("remove-col"===t)e.removeCol(n);else if("append-row"===t)e.addRow(n);else if("remove-row"===t)e.removeRow(n);else if("insert"===t)e.insertTable(n,1,1);else if("remove-table"===t)e.removeTable(n);else{if("undo"===t){if(n.history.stack.undo.length){var a=n.history.stack.undo[n.history.stack.undo.length-1];if(void 0!==a.type&&void 0!==a.id&&"tableHistory"===a.type)return P.undo(a.id),!1}return!0}if("redo"===t){if(n.history.stack.redo.length){var l=n.history.stack.redo[n.history.stack.redo.length-1];if(void 0!==l.type&&void 0!==l.id&&"tableHistory"===l.type)return P.redo(l.id),!1}return!0}}}}]),e}();function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}c().import("blots/container");var W=c().import("parchment"),$=function(e){b(r,e);var t=U(r);function r(){return n(this,r),t.apply(this,arguments)}return a(r,[{key:"format",value:function(){}},{key:"optimize",value:function(e){if(0===this.children.length)if(null!=this.statics.defaultChild){var t=this.createDefaultChild();this.appendChild(t),t.optimize(e)}else this.remove();var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("row_id")===this.domNode.getAttribute("row_id")&&(n.moveChildren(this),n.remove())}},{key:"insertBefore",value:function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t}))){var n=this.createDefaultChild(t);n.appendChild(e),e=n}y(f(r.prototype),"insertBefore",this).call(this,e,t)}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var t=this.createDefaultChild();e.moveChildren(t,this),this.appendChild(t)}y(f(r.prototype),"replace",this).call(this,e)}},{key:"createDefaultChild",value:function(e){var t=null;return t=e?e.domNode.getAttribute("table_id"):this.parent?this.parent.domNode.getAttribute("table_id"):this.domNode.parent.getAttribute("table_id"),W.create(this.statics.defaultChild,[t,this.domNode.getAttribute("row_id"),L.random_id()].join("|"))}}],[{key:"create",value:function(e){var t=y(f(r),"create",this).call(this,"tr");return t.setAttribute("row_id",e||L.random_id()),t}}]),r}(q);$.blotName="tr",$.tagName="tr",$.scope=W.Scope.BLOCK_BLOT,$.defaultChild="td",$.allowedChildren=[j];const Y=$;function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}c().import("blots/container");var X=c().import("parchment"),G=function(e){b(r,e);var t=z(r);function r(){return n(this,r),t.apply(this,arguments)}return a(r,[{key:"format",value:function(){}},{key:"optimize",value:function(e){y(f(r.prototype),"optimize",this).call(this,e);var t=this.next;null!=t&&t.prev===this&&t.statics.blotName===this.statics.blotName&&t.domNode.tagName===this.domNode.tagName&&t.domNode.getAttribute("table_id")===this.domNode.getAttribute("table_id")&&(t.moveChildren(this),t.remove())}},{key:"insertBefore",value:function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t}))){var n=X.create(this.statics.defaultChild,L.random_id());n.appendChild(e),e=n}y(f(r.prototype),"insertBefore",this).call(this,e,t)}}],[{key:"create",value:function(e){var t=y(f(r),"create",this).call(this,"table");return t.setAttribute("table_id",e),t}}]),r}(q);G.blotName="table",G.tagName="table",G.scope=X.Scope.BLOCK_BLOT,G.defaultChild="tr",G.allowedChildren=[Y];const H=G;var J=r(379),V=r.n(J),Z=r(795),K=r.n(Z),Q=r(569),ee=r.n(Q),te=r(565),ne=r.n(te),re=r(216),oe=r.n(re),ie=r(589),ae=r.n(ie),le=r(549),ce={};ce.styleTagTransform=ae(),ce.setAttributes=ne(),ce.insert=ee().bind(null,"head"),ce.domAPI=K(),ce.insertStyleElement=oe();V()(le.Z,ce);le.Z&&le.Z.locals&&le.Z.locals;var se=c().import("blots/container"),ue=c().import("parchment");se.order=["list","contain","td","tr","table"];var pe=function(){function e(t,r){n(this,e),window.quill=window.quill||t,t.history.tableStack={},t.container.addEventListener("mousedown",T.mouseDown),t.container.addEventListener("mousemove",T.mouseMove),t.container.addEventListener("mouseup",T.mouseUp),t.getModule("toolbar").addHandler("table",(function(e){return L.table_handler(e,t)}));var o=t.getModule("clipboard");o.addMatcher("TABLE",(function(e,t){return t})),o.addMatcher("TR",(function(e,t){return t})),o.addMatcher("TD",(function(e,t){return t.compose((new(u())).retain(t.length(),{td:e.getAttribute("table_id")+"|"+e.getAttribute("row_id")+"|"+e.getAttribute("cell_id")}))}))}return a(e,null,[{key:"register",value:function(){c().register(j),c().register(Y),c().register(H),c().register(q)}},{key:"tableOptions",value:function(){for(var e=[],t=1;t<=5;t++)for(var n=1;n<=5;n++)e.push("newtable_"+t+"_"+n);return e}},{key:"removeNodeChildren",value:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}},{key:"keyboardHandler",value:function(e,n,r){var o=window.quill,i=o.getFormat(n.index-1),a=o.getFormat(n.index+n.length);if("undo"===e||"redo"===e)return L.table_handler(e,o);if(!i.td&&!r.format.td&&!a.td)return!0;if("backspace"===e){if(!r.offset&&!n.length){var l=window.getSelection(),c=function(e){for(var t=[],n=0;n<e.length;n++)t.push(n);return t.map((function(t){return e.item(t)}))}(document.querySelectorAll(".ql-editor p")).filter((function(e){return l.containsNode(e,!0)}));return!c.length||(c.forEach((function(e,t){var n=e.parentNode,r=n.nextSibling;if("TD"===n.nodeName){var i=n.parentNode;n.remove(),"TR"!==i.nodeName||i.childNodes.length||(r=(n=i).nextSibling,i=n.parentNode,n.remove(),"TABLE"!==i.nodeName||i.childNodes.length||(r=(n=i).nextSibling,i=n.parentNode,n.remove())),P.register("remove",n,r,i),P.add(o)}})),!1)}return!0}var s=o.selection.getNativeRange().start.node;if(!s)return!1;var u=ue.find(s);if("delete"===e&&u&&r.offset<(u.text?u.text.length:0))return!0;var p=t(o.getLine(n.index-1),1)[0],f=t(o.getLine(n.index+1),1)[0];return!("backspace"!==e||!p||!p.next)||(!("delete"!==e||!f||!f.prev)||void 0)}}]),e}()})(),o})()));
//# sourceMappingURL=quill1-table.js.map